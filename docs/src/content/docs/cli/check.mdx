---
title: spawn check
description: Check your project for potential issues.
---

import CLICommand from "../../../components/CLICommand.astro";
import { globalOptions, databaseOption } from "../../../components/cli-options";

<CLICommand
  usage="spawn check"
  options={[...databaseOption, ...globalOptions]}
  exitCodes={[
    { code: "0", description: "No warnings found." },
    { code: "1", description: "One or more warnings found." },
  ]}
>

## What it checks

### Unpinned migrations

Reports any migration that has an `up.sql` but no `lock.toml`. Unpinned migrations are not reproducible because they resolve components from the current working tree rather than from a pinned snapshot.

To fix, pin the migration:

```bash
spawn migration pin <migration-name>
```

## CI/CD

A non-zero exit makes `spawn check` suitable as a pipeline gate:

```yaml
# GitHub Actions example
- name: Check migrations
  run: spawn check
```

</CLICommand>
